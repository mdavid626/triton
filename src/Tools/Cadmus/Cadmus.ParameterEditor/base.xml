<?xml version="1.0"?>
<Configuration xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Parameters>
    <!-- Modules -->
    <Parameter Name="DeployWeb" Title="Deploy Web" Description="Create or update web application" Editor="TrueFalse">
      <Value>False</Value>
      <Step>Modules</Step>
    </Parameter>
    <Parameter Name="DeployDb" Title="Deploy Db" Description="Do database migrations" Editor="TrueFalse">
      <Value>False</Value>
      <Step>Modules</Step>
    </Parameter>
    <Parameter Name="DeployReports" Title="Deploy Reports" Description="Deploy reports to report server" Editor="TrueFalse">
      <Value>False</Value>
      <Step>Modules</Step>
    </Parameter>
    <Parameter Name="DeployScheduler" Title="Deploy Scheduler" Description="Deploy Scheduler" Editor="TrueFalse">
      <Value>False</Value>
      <Step>Modules</Step>
    </Parameter>
    <Parameter Name="DeployClientTools" Title="Deploy ClientTools" Description="Deploy client tools" Editor="TrueFalse">
      <Value>False</Value>
      <Step>Modules</Step>
    </Parameter>
    <!-- Servers -->
    <Parameter Name="AppServerName" Title="AppServer Name" Description="Application server name or IP address" Editor="ComputerName">
      <Step>Servers</Step>
    </Parameter>
    <Parameter Name="SqlServerName" Title="SQL Server Name" Description="SQL server name or IP address" Editor="ComputerName">
      <Step>Servers</Step>
    </Parameter>
    <Parameter Name="ClientComputerNames" Title="ClientComputer Names" Description="Deploy client tools to these computers (separate names/addresses with newline)" Editor="MultiLine">
      <Step>Servers</Step>
    </Parameter>
    <!-- Authentication -->
    <Parameter Name="AppServerAuthMode" Title="AppServer AuthMode" Description="Application server autentication mode" Editor="Lookup">
      <Lookups>
        <LookupItem Text="Basic" Value="Basic" />
        <LookupItem Text="ClientCertificate" Value="ClientCertificate" />
        <LookupItem Text="Credssp" Value="Credssp" />
        <LookupItem Text="Default" Value="Default" />
        <LookupItem Text="Digest" Value="Digest" />
        <LookupItem Text="Kerberos" Value="Kerberos" />
        <LookupItem Text="Negotiate" Value="Negotiate" />
        <LookupItem Text="None" Value="None" />
      </Lookups>
      <Value>Negotiate</Value>
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="AppServerUsername" Title="AppServer Username" Description="Application server basic authentication username" Editor="Text">
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="AppServerPassword" Title="AppServer Password" Description="Application server basic authentication password" Editor="Password" Encryptable="Yes">
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="SqlServerAuthMode" Title="SQL Server AuthMode" Description="SQL server autentication mode" Editor="Lookup">
      <Lookups>
        <LookupItem Text="Basic" Value="Basic" />
        <LookupItem Text="ClientCertificate" Value="ClientCertificate" />
        <LookupItem Text="Credssp" Value="Credssp" />
        <LookupItem Text="Default" Value="Default" />
        <LookupItem Text="Digest" Value="Digest" />
        <LookupItem Text="Kerberos" Value="Kerberos" />
        <LookupItem Text="Negotiate" Value="Negotiate" />
        <LookupItem Text="None" Value="None" />
      </Lookups>
      <Value>Negotiate</Value>
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="SqlServerUsername" Title="SQL Server Username" Description="SQL server basic authentication username" Editor="Text">
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="SqlServerPassword" Title="SQL Server Password" Description="SQL server basic authentication password" Editor="Password" Encryptable="Yes">
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="ClientComputersAuthMode" Title="ClientComputers AuthMode" Description="Client computers autentication mode" Editor="Lookup">
      <Lookups>
        <LookupItem Text="Basic" Value="Basic" />
        <LookupItem Text="ClientCertificate" Value="ClientCertificate" />
        <LookupItem Text="Credssp" Value="Credssp" />
        <LookupItem Text="Default" Value="Default" />
        <LookupItem Text="Digest" Value="Digest" />
        <LookupItem Text="Kerberos" Value="Kerberos" />
        <LookupItem Text="Negotiate" Value="Negotiate" />
        <LookupItem Text="None" Value="None" />
      </Lookups>
      <Value>Negotiate</Value>
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="ClientComputersUsername" Title="ClientComputers Username" Description="ClientComputers basic authentication username" Editor="Text">
      <Step>Authentication</Step>
    </Parameter>
    <Parameter Name="ClientComputersPassword" Title="ClientComputers Password" Description="ClientComputers basic authentication password" Editor="Password" Encryptable="Yes">
      <Step>Authentication</Step>
    </Parameter>
    <!-- Web -->
    <Parameter Name="WebAppName" Title="WebApp Name" Description="Web application name" Editor="Text">
      <Step>Web</Step>
    </Parameter>
    <Parameter Name="ConnectionString" Description="Web application connection string" Editor="ConnectionString">
      <Step>Web</Step>
      <Step>Db</Step>
    </Parameter>
    <Parameter Name="MachineDecryptionKey" Description="Web application decryption key" Editor="MachineDecryptionKey">
      <Step>Web</Step>
    </Parameter>
    <Parameter Name="MachineValidationKey" Description="Web application validation key" Editor="MachineValidationKey">
      <Step>Web</Step>
    </Parameter>
    <!--
    <Parameter Name="FolderPicker" Description="some des2" Editor="FolderPicker">
      <Step>Test</Step>
    </Parameter>
    <Parameter Name="GuidGenerator" Description="some des2" Editor="GuidGenerator" />
    -->
  </Parameters>
  <Steps>
    <Step Name="Modules" Title="Modules" IsDefault="true">
      <Operations>
        <RunOperation Title="Deploy" ExecutablePath="run.cmd" Arguments="deploy {config}" />
        <RunOperation Title="Open Log" ExecutablePath="notepad" Arguments="deploy.log" DontClearLog="true" />
      </Operations>
    </Step>
    <Step Name="Servers" Title="Servers">
    </Step>
    <Step Name="Authentication" Title="Authentication">
      <Operations>
        <RunOperation Title="Check Connection" ExecutablePath="run.cmd" Arguments="CheckServersConnection {config}" />
        <RunOperation Title="Check Login" ExecutablePath="run.cmd" Arguments="CheckServersAuth {config}" />
        <RunOperation Title="Open Log" ExecutablePath="notepad" Arguments="deploy.log" DontClearLog="true" />
      </Operations>
    </Step>
    <Step Name="Web" Title="Web">
    </Step>
    <Step Name="Db" Title="Database">
    </Step>
  </Steps>
</Configuration>